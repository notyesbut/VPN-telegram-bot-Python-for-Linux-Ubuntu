# Rotebal VPN Bot

üõ°Ô∏è **–ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π Telegram VPN-–±–æ—Ç —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö –ø—Ä–æ—Ç–æ–∫–æ–ª–æ–≤ –∏ DPI –æ–±—Ö–æ–¥–æ–º**

Rotebal VPN Bot - —ç—Ç–æ –ø–æ–ª–Ω–æ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π VPN-–±–æ—Ç –¥–ª—è Telegram —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π WireGuard, ShadowSocks, V2Ray –∏ Trojan –ø—Ä–æ—Ç–æ–∫–æ–ª–æ–≤. –ë–æ—Ç –≤–∫–ª—é—á–∞–µ—Ç —Å–∏—Å—Ç–µ–º—É –ø–ª–∞—Ç–µ–∂–µ–π —á–µ—Ä–µ–∑ TON Blockchain, —Ä–µ—Ñ–µ—Ä–∞–ª—å–Ω—É—é –ø—Ä–æ–≥—Ä–∞–º–º—É –∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –±–∞–Ω–∫–æ–≤—Å–∫–∏–µ –ø–æ—Ä—Ç—ã –¥–ª—è –æ–±—Ö–æ–¥–∞ DPI –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫.

**–°–æ–∑–¥–∞–Ω –∏ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è [Rotebal.com](https://rotebal.com)**

## üöÄ –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

- **4 VPN –ø—Ä–æ—Ç–æ–∫–æ–ª–∞**: WireGuard, ShadowSocks, V2Ray, Trojan
- **DPI –æ–±—Ö–æ–¥**: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –±–∞–Ω–∫–æ–≤—Å–∫–∏—Ö –ø–æ—Ä—Ç–æ–≤ (443, 465, 993, 8443, 1521)
- **TON –ø–ª–∞—Ç–µ–∂–∏**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –ø–ª–∞—Ç–µ–∂–µ–π —á–µ—Ä–µ–∑ TON Blockchain
- **–†–µ—Ñ–µ—Ä–∞–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞**: 10% –∫–æ–º–∏—Å—Å–∏—è —Å –ø–ª–∞—Ç–µ–∂–µ–π —Ä–µ—Ñ–µ—Ä–∞–ª–æ–≤
- **–í—Ä–µ–º–µ–Ω–Ω—ã–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏**: –ë–µ—Å–ø–ª–∞—Ç–Ω—ã–µ 30-–º–∏–Ω—É—Ç–Ω—ã–µ –ø—Ä–æ–±–Ω—ã–µ –ø–µ—Ä–∏–æ–¥—ã
- **QR –∫–æ–¥—ã**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è QR –∫–æ–¥–æ–≤ –¥–ª—è –≤—Å–µ—Ö –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π
- **–ú–Ω–æ–≥–æ—É—Ä–æ–≤–Ω–µ–≤–∞—è –∞–¥–º–∏–Ω–∫–∞**: –°–∏—Å—Ç–µ–º–∞ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏—è
- **Rate limiting**: –ó–∞—â–∏—Ç–∞ –æ—Ç —Å–ø–∞–º–∞
- **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö**: SQLite —Å WAL —Ä–µ–∂–∏–º–æ–º –¥–ª—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

## üìã –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

### –°–∏—Å—Ç–µ–º–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è
- **–û–°**: Ubuntu 20.04+ / Debian 11+ / CentOS 8+
- **RAM**: –ú–∏–Ω–∏–º—É–º 1GB, —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è 2GB+
- **CPU**: 1 vCore+
- **–î–∏—Å–∫**: 10GB+ —Å–≤–æ–±–æ–¥–Ω–æ–≥–æ –º–µ—Å—Ç–∞
- **–°–µ—Ç—å**: –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π IP –∞–¥—Ä–µ—Å

### –ü—Ä–æ–≥—Ä–∞–º–º–Ω–æ–µ –æ–±–µ—Å–ø–µ—á–µ–Ω–∏–µ
- Python 3.8+
- WireGuard
- ShadowSocks-libev
- V2Ray
- Trojan-Go
- Nginx (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
- SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç

## üîß –£—Å—Ç–∞–Ω–æ–≤–∫–∞

### 1. –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞

```bash
# –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã
sudo apt update && sudo apt upgrade -y

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –±–∞–∑–æ–≤—ã—Ö –ø–∞–∫–µ—Ç–æ–≤
sudo apt install -y curl wget git python3 python3-pip python3-venv \
    build-essential software-properties-common apt-transport-https

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ WireGuard
sudo apt install -y wireguard wireguard-tools

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ ShadowSocks
sudo apt install -y shadowsocks-libev

# –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è –¥–ª—è –Ω–æ–≤—ã—Ö –≤–µ—Ä—Å–∏–π
curl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo apt-key add -
```

### 2. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ V2Ray

```bash
# –û—Ñ–∏—Ü–∏–∞–ª—å–Ω–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ V2Ray
curl -Ls https://raw.githubusercontent.com/v2fly/fhs-install-v2ray/master/install-release.sh | sudo bash

# –ò–ª–∏ —á–µ—Ä–µ–∑ snap (–∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π —Å–ø–æ—Å–æ–±)
sudo snap install v2ray-core
```

### 3. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Trojan-Go

```bash
# –°–∫–∞—á–∏–≤–∞–Ω–∏–µ –ø–æ—Å–ª–µ–¥–Ω–µ–π –≤–µ—Ä—Å–∏–∏ Trojan-Go
cd /tmp
wget https://github.com/p4gefau1t/trojan-go/releases/latest/download/trojan-go-linux-amd64.zip
unzip trojan-go-linux-amd64.zip

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞
sudo mv trojan-go /usr/local/bin/
sudo chmod +x /usr/local/bin/trojan-go

# –°–æ–∑–¥–∞–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω–æ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏
sudo mkdir -p /etc/trojan-go
```

### 4. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Certbot
sudo apt install -y certbot

# –ü–æ–ª—É—á–µ–Ω–∏–µ SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞ (–∑–∞–º–µ–Ω–∏—Ç–µ –Ω–∞ –≤–∞—à –¥–æ–º–µ–Ω)
sudo certbot certonly --standalone -d de.rotebal.com

# –ò–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ DNS challenge –¥–ª—è wildcard
sudo certbot certonly --manual --preferred-challenges dns -d "*.rotebal.com"
```

### 5. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Python –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

```bash
# –°–æ–∑–¥–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –¥–ª—è –±–æ—Ç–∞
sudo useradd -m -s /bin/bash vpnbot

# –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è vpnbot
sudo su - vpnbot

# –°–æ–∑–¥–∞–Ω–∏–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ –æ–∫—Ä—É–∂–µ–Ω–∏—è
python3 -m venv /home/vpnbot/venv
source /home/vpnbot/venv/bin/activate

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
pip install --upgrade pip
pip install python-telegram-bot aiohttp aiosqlite qrcode[pil] Pillow
```

### 6. –ó–∞–≥—Ä—É–∑–∫–∞ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –±–æ—Ç–∞

```bash
# –°–æ–∑–¥–∞–Ω–∏–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π
sudo mkdir -p /opt/rotebal-bot
sudo mkdir -p /etc/vpnbot
sudo mkdir -p /var/log/vpnbot
sudo mkdir -p /var/lib/vpnbot

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø—Ä–∞–≤
sudo chown -R vpnbot:vpnbot /opt/rotebal-bot /etc/vpnbot /var/log/vpnbot /var/lib/vpnbot

# –ó–∞–≥—Ä—É–∑–∫–∞ –∫–æ–¥–∞ –±–æ—Ç–∞
cd /opt/rotebal-bot
wget https://rotebal.com/downloads/rotebal_bot.py
# –ò–ª–∏ —Å–∫–æ–ø–∏—Ä—É–π—Ç–µ —Ñ–∞–π–ª –≤—Ä—É—á–Ω—É—é

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø—Ä–∞–≤ –Ω–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ
chmod +x rotebal_bot.py
```

## ‚öôÔ∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### 1. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ WireGuard

```bash
# –°–æ–∑–¥–∞–Ω–∏–µ —Å–µ—Ä–≤–µ—Ä–Ω–æ–≥–æ –∫–ª—é—á–∞
sudo su -
cd /etc/wireguard
wg genkey | tee server_private.key | wg pubkey > server_public.key

# –°–æ–∑–¥–∞–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ —Å–µ—Ä–≤–µ—Ä–∞
cat > /etc/wireguard/wg0.conf << EOF
[Interface]
PrivateKey = $(cat server_private.key)
Address = 10.66.66.1/24
ListenPort = 51820
PostUp = iptables -A FORWARD -i %i -j ACCEPT; iptables -A FORWARD -o %i -j ACCEPT; iptables -t nat -A POSTROUTING -o eth0 -j MASQUERADE
PostDown = iptables -D FORWARD -i %i -j ACCEPT; iptables -D FORWARD -o %i -j ACCEPT; iptables -t nat -D POSTROUTING -o eth0 -j MASQUERADE

EOF

# –ó–∞–º–µ–Ω–∏—Ç–µ eth0 –Ω–∞ –≤–∞—à —Å–µ—Ç–µ–≤–æ–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
ip route | grep default
```

### 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ ShadowSocks

```bash
# –°–æ–∑–¥–∞–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ ShadowSocks
sudo mkdir /etc/shadowsocks-libev

sudo cat > /etc/shadowsocks-libev/config.json << EOF
{
    "server": "0.0.0.0",
    "server_port": 8388,
    "method": "chacha20-ietf-poly1305",
    "timeout": 300,
    "fast_open": false,
    "manager_address": "127.0.0.1",
    "manager_port": 4000
}
EOF
```

### 3. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ V2Ray

```bash
# –°–æ–∑–¥–∞–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ V2Ray
sudo cat > /etc/v2ray/config.json << EOF
{
  "inbounds": [
    {
      "port": 443,
      "protocol": "vmess",
      "settings": {
        "clients": []
      },
      "streamSettings": {
        "network": "ws",
        "security": "tls",
        "tlsSettings": {
          "certificates": [
            {
              "certificateFile": "/etc/ssl/certs/rotebal.crt",
              "keyFile": "/etc/ssl/private/rotebal.key"
            }
          ]
        },
        "wsSettings": {
          "path": "/api/v1/users/"
        }
      }
    }
  ],
  "outbounds": [
    {
      "protocol": "freedom",
      "settings": {}
    }
  ]
}
EOF
```

### 4. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Trojan-Go

```bash
# –°–æ–∑–¥–∞–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ Trojan-Go
sudo cat > /etc/trojan-go/config.json << EOF
{
    "run_type": "server",
    "local_addr": "0.0.0.0",
    "local_port": 443,
    "remote_addr": "127.0.0.1",
    "remote_port": 80,
    "password": [],
    "ssl": {
        "cert": "/etc/ssl/certs/rotebal.crt",
        "key": "/etc/ssl/private/rotebal.key",
        "sni": "de.rotebal.com"
    },
    "websocket": {
        "enabled": true,
        "path": "/api/v1/users/",
        "hostname": "de.rotebal.com"
    }
}
EOF
```

## üîë –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–æ—Ç–∞

### 1. –°–æ–∑–¥–∞–Ω–∏–µ Telegram –±–æ—Ç–∞

1. –û—Ç–∫—Ä–æ–π—Ç–µ [@BotFather](https://t.me/botfather) –≤ Telegram
2. –û—Ç–ø—Ä–∞–≤—å—Ç–µ `/newbot`
3. –°–ª–µ–¥—É–π—Ç–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –±–æ—Ç–∞
4. –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –ø–æ–ª—É—á–µ–Ω–Ω—ã–π **Bot Token**

### 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ TON –∫–æ—à–µ–ª—å–∫–∞

1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ [Tonkeeper](https://tonkeeper.com/) –∏–ª–∏ [TON Wallet](https://wallet.ton.org/)
2. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π –∫–æ—à–µ–ª–µ–∫
3. **–í–ê–ñ–ù–û**: –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ seed-—Ñ—Ä–∞–∑—É –≤ –±–µ–∑–æ–ø–∞—Å–Ω–æ–º –º–µ—Å—Ç–µ
4. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –∞–¥—Ä–µ—Å –∫–æ—à–µ–ª—å–∫–∞
5. –ü–æ–ª—É—á–∏—Ç–µ API –∫–ª—é—á –Ω–∞ [toncenter.com](https://toncenter.com/api/v2/)

### 3. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –≤ –∫–æ–¥–µ

–û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ —Ñ–∞–π–ª `rotebal_bot.py`:

```python
class Config:
    # –¢–æ–∫–µ–Ω –≤–∞—à–µ–≥–æ –±–æ—Ç–∞
    BOT_TOKEN = "YOUR_BOT_TOKEN_HERE"
    
    # –ü—É—Ç—å –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö
    DB_PATH = "/etc/vpnbot/vpnbot.db"
    
    # ID –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤ (–≤–∞—à Telegram ID)
    ADMIN_IDS = [YOUR_TELEGRAM_ID]

    # TON –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
    TON_WALLET_ADDRESS = "YOUR_TON_WALLET_ADDRESS"
    TON_API_KEY = "YOUR_TON_API_KEY"
    TON_API_URL = "https://toncenter.com/api/v2/"

    # –î–æ–º–µ–Ω –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
    PRIMARY_DOMAIN = "rotebal.com"

    # WireGuard –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
    WG_SERVER_PRIVATE_KEY = "YOUR_WG_PRIVATE_KEY"

    # SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã
    CERT_PATH = "/etc/letsencrypt/live/de.rotebal.com/fullchain.pem"
    CERT_KEY_PATH = "/etc/letsencrypt/live/de.rotebal.com/privkey.pem"

    # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Å–µ—Ä–≤–µ—Ä–æ–≤
    SERVERS = [
        ServerConfig(
            id="de1",
            name="üá©üá™ Frankfurt Banking",
            ip="YOUR_SERVER_IP",
            domain="de.rotebal.com",
            location="Frankfurt, Germany",
            banking_ports=[443, 465, 993, 8443, 1521]
        )
    ]
```

### 4. –ü–æ–ª—É—á–µ–Ω–∏–µ Telegram ID

```bash
# –í—Ä–µ–º–µ–Ω–Ω–æ –¥–æ–±–∞–≤—å—Ç–µ —ç—Ç–æ—Ç –∫–æ–¥ –≤ –±–æ—Ç–∞ –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Å–≤–æ–µ–≥–æ ID
async def get_my_id(update: Update, context: ContextTypes.DEFAULT_TYPE):
    user_id = update.effective_user.id
    await update.message.reply_text(f"–í–∞—à Telegram ID: {user_id}")

# –î–æ–±–∞–≤—å—Ç–µ –≤ main():
app.add_handler(CommandHandler("myid", get_my_id))
```

## üöÄ –ó–∞–ø—É—Å–∫

### 1. –°–æ–∑–¥–∞–Ω–∏–µ systemd —Å–µ—Ä–≤–∏—Å–æ–≤

#### Rotebal Bot Service

```bash
sudo cat > /etc/systemd/system/rotebal-bot.service << EOF
[Unit]
Description=Rotebal VPN Bot
After=network.target

[Service]
Type=simple
User=vpnbot
Group=vpnbot
WorkingDirectory=/opt/rotebal-bot
Environment=PATH=/home/vpnbot/venv/bin
ExecStart=/home/vpnbot/venv/bin/python /opt/rotebal-bot/rotebal_bot.py
Restart=always
RestartSec=10

[Install]
WantedBy=multi-user.target
EOF
```

#### WireGuard Service

```bash
sudo systemctl enable wg-quick@wg0
```

#### ShadowSocks Service

```bash
sudo cat > /etc/systemd/system/shadowsocks-manager.service << EOF
[Unit]
Description=Shadowsocks Manager
After=network.target

[Service]
Type=forking
User=nobody
Group=nogroup
ExecStart=/usr/bin/ss-manager -c /etc/shadowsocks-libev/config.json -u
Restart=always
RestartSec=10

[Install]
WantedBy=multi-user.target
EOF
```

### 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ firewall

```bash
# UFW –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
sudo ufw allow ssh
sudo ufw allow 443/tcp
sudo ufw allow 465/tcp
sudo ufw allow 993/tcp
sudo ufw allow 8443/tcp
sudo ufw allow 1521/tcp
sudo ufw allow 51820/udp
sudo ufw allow 8388/tcp
sudo ufw --force enable

# –í–∫–ª—é—á–µ–Ω–∏–µ IP forwarding
echo 'net.ipv4.ip_forward=1' | sudo tee -a /etc/sysctl.conf
echo 'net.ipv6.conf.all.forwarding=1' | sudo tee -a /etc/sysctl.conf
sudo sysctl -p
```

### 3. –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–∏—Å–æ–≤

```bash
# –ó–∞–ø—É—Å–∫ –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
sudo systemctl daemon-reload
sudo systemctl enable --now rotebal-bot
sudo systemctl enable --now shadowsocks-manager
sudo systemctl enable --now wg-quick@wg0
sudo systemctl enable --now v2ray
sudo systemctl enable --now trojan-go

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞
sudo systemctl status rotebal-bot
sudo systemctl status shadowsocks-manager
sudo systemctl status wg-quick@wg0
```

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –ª–æ–≥–∏

### –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤

```bash
# –õ–æ–≥–∏ –±–æ—Ç–∞
sudo journalctl -u rotebal-bot -f

# –õ–æ–≥–∏ ShadowSocks
sudo journalctl -u shadowsocks-manager -f

# –õ–æ–≥–∏ WireGuard
sudo journalctl -u wg-quick@wg0 -f

# –§–∞–π–ª–æ–≤—ã–µ –ª–æ–≥–∏ –±–æ—Ç–∞
tail -f /var/log/vpnbot/vpnbot.log
```

### –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Å–∏—Å—Ç–µ–º—ã

```bash
# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤
htop

# –°–µ—Ç–µ–≤—ã–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è
sudo netstat -tulpn | grep -E '(443|465|993|8443|1521|51820|8388)'

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã WireGuard
sudo wg show

# –°—Ç–∞—Ç—É—Å –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
sudo -u vpnbot sqlite3 /etc/vpnbot/vpnbot.db ".tables"
```

## üîß –û–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ

### –†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ

```bash
#!/bin/bash
# backup.sh
DATE=$(date +%Y%m%d_%H%M%S)
BACKUP_DIR="/var/backups/rotebal"

mkdir -p $BACKUP_DIR

# –ë—ç–∫–∞–ø –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
cp /etc/vpnbot/vpnbot.db $BACKUP_DIR/vpnbot_$DATE.db

# –ë—ç–∫–∞–ø –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π
tar -czf $BACKUP_DIR/configs_$DATE.tar.gz \
    /etc/wireguard/ \
    /etc/shadowsocks-libev/ \
    /etc/v2ray/ \
    /etc/trojan-go/ \
    /opt/rotebal-bot/

# –£–¥–∞–ª–µ–Ω–∏–µ —Å—Ç–∞—Ä—ã—Ö –±—ç–∫–∞–ø–æ–≤ (—Å—Ç–∞—Ä—à–µ 30 –¥–Ω–µ–π)
find $BACKUP_DIR -type f -mtime +30 -delete
```

### –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ

```bash
# –û—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å–µ—Ä–≤–∏—Å–∞
sudo systemctl stop rotebal-bot

# –°–æ–∑–¥–∞–Ω–∏–µ –±—ç–∫–∞–ø–∞
sudo cp /opt/rotebal-bot/rotebal_bot.py /opt/rotebal-bot/rotebal_bot.py.bak

# –ó–∞–≥—Ä—É–∑–∫–∞ –Ω–æ–≤–æ–≥–æ –∫–æ–¥–∞ —Å Rotebal.com
wget -O /opt/rotebal-bot/rotebal_bot.py https://rotebal.com/downloads/rotebal_bot.py

# –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–∏—Å–∞
sudo systemctl start rotebal-bot

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞
sudo systemctl status rotebal-bot
```

### –û—á–∏—Å—Ç–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

```bash
# –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö
sudo -u vpnbot sqlite3 /etc/vpnbot/vpnbot.db

-- –£–¥–∞–ª–µ–Ω–∏–µ –∏—Å—Ç–µ–∫—à–∏—Ö –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π
DELETE FROM configs WHERE expires_at < datetime('now') AND expires_at IS NOT NULL;

-- –£–¥–∞–ª–µ–Ω–∏–µ —Å—Ç–∞—Ä—ã—Ö –ø–ª–∞—Ç–µ–∂–µ–π
DELETE FROM payments WHERE created_at < datetime('now', '-90 days');

-- –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
VACUUM;
```

## üõ†Ô∏è –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫

### –û–±—â–∏–µ –ø—Ä–æ–±–ª–µ–º—ã

#### –ë–æ—Ç –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç
```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å
sudo systemctl status rotebal-bot

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏
sudo journalctl -u rotebal-bot -n 50

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ç–æ–∫–µ–Ω –±–æ—Ç–∞
curl -s "https://api.telegram.org/bot<YOUR_TOKEN>/getMe"
```

#### –û—à–∏–±–∫–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞
ls -la /etc/vpnbot/vpnbot.db
sudo chown vpnbot:vpnbot /etc/vpnbot/vpnbot.db

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç—å
sudo -u vpnbot sqlite3 /etc/vpnbot/vpnbot.db "PRAGMA integrity_check;"
```

#### –ü—Ä–æ–±–ª–µ–º—ã —Å SSL
```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç
sudo certbot certificates

# –û–±–Ω–æ–≤–∏—Ç–µ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç
sudo certbot renew

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤–∞–ª–∏–¥–Ω–æ—Å—Ç—å
openssl x509 -in /etc/letsencrypt/live/de.rotebal.com/fullchain.pem -text -noout
```

#### WireGuard –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç
```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é
sudo wg show
sudo wg-quick down wg0
sudo wg-quick up wg0

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ IP forwarding
sysctl net.ipv4.ip_forward
```

#### ShadowSocks –Ω–µ –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è
```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ ss-manager
sudo netstat -tulpn | grep 4000
sudo systemctl restart shadowsocks-manager

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ—Ä—Ç
sudo netstat -tulpn | grep 8388
```

### –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

#### –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
```bash
# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ SQLite –¥–ª—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
sudo -u vpnbot sqlite3 /etc/vpnbot/vpnbot.db << EOF
PRAGMA journal_mode=WAL;
PRAGMA synchronous=NORMAL;
PRAGMA cache_size=10000;
PRAGMA temp_store=memory;
EOF
```

#### –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Å–∏—Å—Ç–µ–º—ã
```bash
# –£–≤–µ–ª–∏—á–µ–Ω–∏–µ –ª–∏–º–∏—Ç–æ–≤ —Ñ–∞–π–ª–æ–≤
echo "vpnbot soft nofile 65536" | sudo tee -a /etc/security/limits.conf
echo "vpnbot hard nofile 65536" | sudo tee -a /etc/security/limits.conf

# –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Å–µ—Ç–∏
echo 'net.core.rmem_max = 134217728' | sudo tee -a /etc/sysctl.conf
echo 'net.core.wmem_max = 134217728' | sudo tee -a /etc/sysctl.conf
sudo sysctl -p
```

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### –ë–∞–∑–æ–≤–∞—è –∑–∞—â–∏—Ç–∞

```bash
# –û—Ç–∫–ª—é—á–µ–Ω–∏–µ root SSH
sudo sed -i 's/PermitRootLogin yes/PermitRootLogin no/' /etc/ssh/sshd_config
sudo systemctl restart ssh

# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ fail2ban
sudo apt install -y fail2ban
sudo systemctl enable --now fail2ban

# –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
sudo apt install -y unattended-upgrades
sudo dpkg-reconfigure -plow unattended-upgrades
```

### –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∞—Ç–∞–∫

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ Logwatch
sudo apt install -y logwatch
sudo logwatch --detail High --service All --range today --mailto support@rotebal.com
```

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

### –ö–æ–Ω—Ç–∞–∫—Ç—ã
- **–û—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π —Å–∞–π—Ç**: [Rotebal.com](https://rotebal.com)
- **Telegram –ø–æ–¥–¥–µ—Ä–∂–∫–∞**: @rotebal_support
- **Email**: support@rotebal.com

### –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

```bash
# –ü–æ–ª–Ω–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞
sudo /opt/rotebal-bot/diagnostic.sh

# –ë—ã—Å—Ç—Ä—ã–π –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫ –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
sudo systemctl restart rotebal-bot shadowsocks-manager wg-quick@wg0 v2ray trojan-go

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤—Å–µ—Ö –ø–æ—Ä—Ç–æ–≤
sudo netstat -tulpn | grep -E '(443|465|993|8443|1521|51820|8388|4000)'
```

## üåü –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã

### –û—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–µ —Å—Å—ã–ª–∫–∏ Rotebal.com
- **–ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞**: https://rotebal.com

### –°–æ–æ–±—â–µ—Å—Ç–≤–æ
- **Telegram –∫–∞–Ω–∞–ª**: @rotebal_news
- **Telegram —á–∞—Ç**: @rotebal_chat

## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è

MIT License

## üôè –ë–ª–∞–≥–æ–¥–∞—Ä–Ω–æ—Å—Ç–∏

- –ö–æ–º–∞–Ω–¥–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ [Rotebal.com](https://rotebal.com)
- Telegram Bot API
- TON Blockchain
- WireGuard Project
- ShadowSocks Project
- V2Ray Project
- Trojan-Go Project

---

**‚ö†Ô∏è –í–∞–∂–Ω–æ**: –≠—Ç–æ—Ç –±–æ—Ç —Ä–∞–∑—Ä–∞–±–æ—Ç–∞–Ω –∏ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è [Rotebal.com](https://rotebal.com) –¥–ª—è –ª–µ–≥–∞–ª—å–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Å–æ–±–ª—é–¥–∞–µ—Ç–µ –≤—Å–µ –º–µ—Å—Ç–Ω—ã–µ –∑–∞–∫–æ–Ω—ã –∏ –ø—Ä–∞–≤–∏–ª–∞ –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ VPN —Å–µ—Ä–≤–∏—Å–æ–≤.

**üîó –ü–æ–ª—É—á–∏—Ç—å –ø–æ–¥–¥–µ—Ä–∂–∫—É**: –î–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–π –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –∏ –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏–π –ø–æ—Å–µ—Ç–∏—Ç–µ [Rotebal.com](https://rotebal.com) –∏–ª–∏ —Å–≤—è–∂–∏—Ç–µ—Å—å —Å –Ω–∞—à–µ–π —Å–ª—É–∂–±–æ–π –ø–æ–¥–¥–µ—Ä–∂–∫–∏.
